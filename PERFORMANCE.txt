"""
Quick Performance Report - Urban Farming AI System
===================================================

MODELS TRAINED: 2025-11-16 23:50
DATA: 600 samples (120 days Ã— 5 crops)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

IRRIGATION CLASSIFICATION MODEL
--------------------------------
Accuracy:     96%
Precision:    97% (macro avg)
Recall:       97% (macro avg)
F1-Score:     97% (macro avg)

Class Performance:
  - irrigate_now:  100% precision, 100% recall
  - ok:            98% precision, 93% recall  
  - soon:          92% precision, 98% recall

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

GROWTH PREDICTION MODEL
------------------------
RMSE:         0.78 / 100
RÂ² Score:     0.88 (88% variance explained)

Features Used (13):
  - moisture, nutrients, light_hours, temperature, day
  - moisture_deviation, light_deviation, temp_stress
  - nutrient_ratio, moisture_x_nutrients
  - crop encodings (4), stage encodings (2)

Model Architecture:
  - RandomForest Regressor
  - 250 estimators
  - Max depth: 20
  - Min samples split: 3

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

GROQ AI INTEGRATION
-------------------
Model:        openai/gpt-oss-120b
Features:     
  âœ“ Crop health diagnosis with confidence scores
  âœ“ Yield forecasting with market valuation (INR)
  âœ“ ROI analysis with business model recommendations
  âœ“ What-if simulator for scenario testing
  âœ“ Scenario universe generator (up to 12 variants/track)
  âœ“ Combinatorial grid explorer (max 400 combos shown)

Response Format: Structured JSON schemas (type-safe)
Caching:         600-3600s TTL via Streamlit
Error Handling:  Custom GroqPlaybookError with fail-fast

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

IMPROVEMENTS FROM BASELINE
---------------------------
âœ“ RÂ² improved from 0.31 â†’ 0.88 (+183%)
âœ“ Irrigation accuracy: 82% â†’ 96% (+17%)
âœ“ Added 6 engineered features for stronger signals
âœ“ Doubled dataset size (300 â†’ 600 samples)
âœ“ Increased model capacity (140 â†’ 250 estimators)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

PRESENTATION DEMO FLOW
----------------------
1. Show model metrics (this report)
2. Run AI diagnosis â†’ expand risk factors
3. Generate yield forecast â†’ highlight â‚¹ market value
4. Calculate ROI â†’ showcase business models
5. What-if simulator â†’ drought scenario (30% moisture)
6. Scenario universe â†’ show combination grid
7. Mention SDG alignment (2, 11, 12, 13)

Expected Response: WOW! ğŸ‰

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
